* TEST WGETENV FUNCTION

* Need to replace this with wobj testing framework


CALL MVDBTOOLKIT.WGETENV("PATH",PATH)
PRINT "WGETENV TEST  PATH=":PATH

WOBJ.RTNE="MVDBTOOLKIT.WOBJ"
 CALL @WOBJ.RTNE(OBJ,"FROMSTRING","","{}","",RERR)
 CALL @WOBJ.RTNE(OBJ,"SET","method","GET","",RERR)
 CALL @WOBJ.RTNE(OBJ,"SET","url","https://raw.githubusercontent.com/patrickp/mvdbtoolkit/master/MVDBTOOLKIT.txt","",RERR)
 CALL @WOBJ.RTNE(OBJ,"SET","insecure","Y","",RERR)
 CALL MVDBTOOLKIT.WCALL(OBJ)
 CALL @WOBJ.RTNE(OBJ,"GET","response.data",RESPONSE,"",RERR)
 PRINT "RESPONSE=":RESPONSE
 CALL @WOBJ.RTNE(OBJ,"GET","response.status",RESPONSE.STATUS,"",RERR)
 PRINT 'RESPONSE.STATUS=':RESPONSE.STATUS:'  ':
 IF RESPONSE.STATUS="200" THEN PRINT "OK" ELSE PRINT "FAIL"
 CALL @WOBJ.RTNE(OBJ,"GET","response.statusmsg",RESPONSE.STATUS.MSG,"",RERR)
 PRINT 'RESPONSE.STATUSMSG=':RESPONSE.STATUS.MSG
 
 CALL @WOBJ.RTNE(OBJ,"GET","response.http_type",RESPONSE.HTTP.TYPE,"",RERR)
 PRINT 'RESPONSE.HTTP_TYPE=':RESPONSE.HTTP.TYPE
 
 
 
